---
import { getCollection } from 'astro:content'
import BaseLayout from '../../layouts/BaseLayout.astro';
import BlogSearch from '../../components/BlogSearch.svelte';

const title = '–ë–ª–æ–≥';
const description = '–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏, —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è –∏ —É—Ä–æ–∫–∏ –∏–∑ –ú–∏—Å—Å–∏–∏ –®–µ—Ö–∏–Ω–∞';
const permalink = `${Astro.site.href}blog`;

const allPosts = await getCollection('posts');
allPosts.sort((a, b) => new Date(b.data.publishDate).valueOf() - new Date(a.data.publishDate).valueOf());
---

<BaseLayout title={title} description={description} permalink={permalink} current="blog">
  <div class="py-10 px-4">
    <div class="max-w-7xl mx-auto">

      <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (Page Header) -->
      <div class="text-center mb-12">
        <h1 class="text-4xl md:text-5xl font-extrabold mb-4 italic tracking-tight text-slate-900 dark:text-white">
          üìù –ë–ª–æ–≥
        </h1>
        <p class="text-lg md:text-xl text-slate-600 dark:text-slate-400 max-w-2xl mx-auto leading-relaxed">
          –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏, —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è –∏ —É—Ä–æ–∫–∏
        </p>
      </div>

      <!-- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–∏—Å–∫–∞ –∏ —Å–µ—Ç–∫–∞ –ø–æ—Å—Ç–æ–≤ -->
      <BlogSearch client:load posts={allPosts} />

    </div>
  </div>
</BaseLayout>
